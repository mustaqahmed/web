<!DOCTYPE html>
<!--
  Issue 269917
  This is a cross-origin iframe for https://codepen.io/mustaqahmed/pen/yLjBraJ
  and a same-origin iframe for cancel-mousedown-in-iframe-top.html
-->
<style>
  body, html {
    margin: 0;
    padding; 0;
    background-color: lightblue;
  }
  #log {
    font-size: x-small;
    color: darkblue;
  }
</style>
<div>
  On each button, press mouse left-button, drag the mouse to cross the
  iframe boundary and release the button.  Mouse press and release must
  be in different frames.
</div>
<button id="button_a">Button A</button>
<button id="button_b">Button B (cancels mousedown)</button>
<div id="log"></div>
<script>
  let last_msg;

  function log(e) {
    let msg = e.type;
    if (msg == last_msg) {
      msg = "."
    } else {
      last_msg = msg;
    }
    document.getElementById("log").innerHTML += `<span>${msg}</span> `;
  }
  ["load", "mousedown", "mousemove", "mouseup"].forEach(ename => {
    window.addEventListener(ename, log);
  });
  document.getElementById("button_b").addEventListener(
    "mousedown", e => e.preventDefault());
</script>
